<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Manneken Pis Data Wrangling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="costumes-wrangling_files/libs/clipboard/clipboard.min.js"></script>
<script src="costumes-wrangling_files/libs/quarto-html/quarto.js"></script>
<script src="costumes-wrangling_files/libs/quarto-html/popper.min.js"></script>
<script src="costumes-wrangling_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="costumes-wrangling_files/libs/quarto-html/anchor.min.js"></script>
<link href="costumes-wrangling_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="costumes-wrangling_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="costumes-wrangling_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="costumes-wrangling_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="costumes-wrangling_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manneken Pis Data Wrangling</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Who is <a href="https://en.wikipedia.org/wiki/Manneken_Pis">Manneken Pis</a>? He’s got a lot of costumes, and I couldn’t find a dataset anywhere that listed all the costumes. I felt that one needed to exist.</p>
<p>Trying to get data from website, or premade database or scraping was a nightmare (selenium, Docker, UGH.) So, went hunting through HTML manually and found some long lists with all the costume info (both the full descriptions of the costumes, plus reference values for theme and geo location). Parsing/assembling together here.</p>
<p>Link to google sheet with ref info (downloaded as xlsx) <a href="https://docs.google.com/spreadsheets/d/1kz5t3EYrJ6qB2KBNBfarrR4SGkfJBC8ErjHw4ajHjBE/edit?usp=sharing">here</a></p>
<p>All costumes found/scraped from this <a href="https://www.mannekenpis.brussels/en/more-than-1000-costumes">site</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Saved this xlsx from google sheets -- get ref info on geo and theme IDs </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>ref_theme <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">'manneken-pis-costumes-ref.xlsx'</span>,<span class="at">sheet=</span><span class="st">'theme'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(name,<span class="at">into =</span> <span class="fu">c</span>(<span class="st">'trash'</span>,<span class="st">'id'</span>,<span class="st">'wip'</span>),<span class="at">sep =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(wip, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">'trash2'</span>,<span class="st">'theme'</span>,<span class="st">'trash3'</span>,<span class="st">'trash4'</span>),<span class="at">sep=</span><span class="st">"&gt;|&lt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'trash'</span>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>ref_geo <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">'manneken-pis-costumes-ref.xlsx'</span>,<span class="at">sheet=</span><span class="st">'geography'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(name,<span class="at">into =</span> <span class="fu">c</span>(<span class="st">'trash'</span>,<span class="st">'id'</span>,<span class="st">'wip'</span>),<span class="at">sep =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(wip, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">'trash2'</span>,<span class="st">'geo'</span>,<span class="st">'trash3'</span>,<span class="st">'trash4'</span>),<span class="at">sep=</span><span class="st">"&gt;|&lt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'trash'</span>))</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Load JSONs from file, parse + merge into one df, with ref info attached</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>costume_theme <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"/Users/carobuck/Documents/fun_projects/manneken-pis/theme_to_costumes.json"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>costume_location <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">'/Users/carobuck/Documents/fun_projects/manneken-pis/location_to_costumes.json'</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># deal w/ themes</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>list_of_dfs_no_extra <span class="ot">&lt;-</span> <span class="fu">lapply</span>(costume_theme, <span class="cf">function</span>(df) {</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  df[, <span class="sc">!</span><span class="fu">names</span>(df) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"t_s"</span>)]</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>list_of_dfs_with_id <span class="ot">&lt;-</span> <span class="fu">imap</span>(list_of_dfs_no_extra, <span class="sc">~</span> <span class="fu">mutate</span>(.x, <span class="at">id_theme =</span> .y))</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>combined_df_costume <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(list_of_dfs_with_id)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"># deal w/ geo</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>list_of_dfs_no_extra <span class="ot">&lt;-</span> <span class="fu">lapply</span>(costume_location, <span class="cf">function</span>(df) {</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">body =</span> <span class="fu">as.character</span>(body)) <span class="sc">%&gt;%</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>t_s) <span class="ot">-&gt;</span> df</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(df)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>list_of_dfs_with_id <span class="ot">&lt;-</span> <span class="fu">imap</span>(list_of_dfs_no_extra, <span class="sc">~</span> <span class="fu">mutate</span>(.x, <span class="at">id_geo =</span> .y))</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>combined_df_geo <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(list_of_dfs_with_id)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># combine + clean up df</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>combined_df_costume <span class="sc">%&gt;%</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(combined_df_geo) <span class="sc">%&gt;%</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(ref_geo,<span class="at">by=</span><span class="fu">join_by</span>(id_geo<span class="sc">==</span>id)) <span class="sc">%&gt;%</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(ref_theme,<span class="at">by=</span><span class="fu">join_by</span>(id_theme<span class="sc">==</span>id)) <span class="sc">%&gt;%</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">t =</span> <span class="fu">str_trim</span>(t),</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">body =</span> <span class="fu">str_trim</span>(body)) <span class="sc">%&gt;%</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="ot">-&gt;</span> clean_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p>Get a glimpse of what the data look like now:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>clean_data <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,480
Columns: 7
$ id       &lt;chr&gt; "3616", "3388", "3134", "3036", "3666", "3232", "3722", "2403…
$ t        &lt;chr&gt; "\"Grand conseiller de la Confrérie Saint-Etienne\"", "Armail…
$ body     &lt;chr&gt; "-1", "&lt;p&gt;Costume presented on the occasion of a chapter held…
$ id_theme &lt;chr&gt; "3304", "3304", "3304", "3304", "3304", "3304", "3304", "3304…
$ id_geo   &lt;chr&gt; "3336", "3347", "3587", "3455", "3336", "3599", "3442", "3335…
$ geo      &lt;chr&gt; "France", "Switzerland", "Pauillac", "Schaerbeek", "France", …
$ theme    &lt;chr&gt; "Gastronomy", "Gastronomy", "Gastronomy", "Gastronomy", "Gast…</code></pre>
</div>
</div>
<hr>
<p>Make some quick charts from the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>clean_data <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#count(geo,theme) %&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(theme) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(theme)) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>n,<span class="at">x=</span><span class="fu">fct_rev</span>(<span class="fu">fct_reorder</span>(theme,n)))) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">'cyan4'</span>,<span class="at">color=</span><span class="st">'gray30'</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">label=</span>n),<span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">'Number of Costumes'</span>,<span class="at">x=</span><span class="st">''</span>,<span class="at">title=</span><span class="st">'Costumes by Themed Category'</span>) <span class="sc">+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">11</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="costumes-wrangling_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>clean_data <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#count(geo,theme) %&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(geo) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n<span class="sc">&gt;=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">area =</span> n, <span class="at">fill =</span> geo, <span class="at">label =</span> <span class="fu">paste</span>(n,geo))) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap</span>(<span class="at">color=</span><span class="st">'white'</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_treemap_text</span>(<span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">place =</span> <span class="st">"centre"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">size =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'Locations with at least 10 Outfits'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="costumes-wrangling_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
<p>Get stats for total number of locations and # themes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>clean_data <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(theme)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         theme   n
1                         Arts   4
2      Brussels municipalities   7
3                     Carnival  37
4                   Characters  25
5      Charitable associations  34
6                       Cinema   8
7                    Education  64
8                  Environment  13
9         Fashion and textiles  20
10                    Feminism   1
11       Folklore Associations 228
12           Folklore Brussels  19
13           Folklore Students  42
14                  Gastronomy  93
15         Health and Medecine  25
16         Historical Costumes  37
17                Human rights   1
18                Humanitarian  24
19                Institutions  11
20 International organisations   2
21                    LGBTQIA+   2
22                     Leisure  42
23                    Military  65
24                       Music  60
25              Older Costumes   6
26                 Performance  47
27               Personalities  39
28                 Professions 153
29        Radio and television   3
30                      Sports 104
31        Traditional Costumes 200
32          Youth associations  19
33                        &lt;NA&gt;  45</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>clean_data <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(geo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       geo   n
1                    Aalst   3
2                   Africa   4
3                  Albania   1
4                  Alkmaar   2
5               Amersfoort   3
6                Amsterdam   4
7               Anderlecht   5
8                  Antwerp   4
9                Antwerpen   1
10              Appollonia   2
11                Arendonk   1
12                  Arezzo   1
13              Argenteuil   2
14               Argentina   3
15                   Arles   1
16                   Arlon   4
17                 Armenia   1
18                 Arolsen   1
19                    Asia   4
20                    Asse   1
21                     Ath   1
22                    Auch   1
23                Audergem   1
24                 Austria   5
25              Azerbaijan   1
26                   Basel   2
27         Bassoles-Aulers   2
28                Bastogne   4
29             Beauvechain   1
30                 Belgium 345
31          Bergen op Zoom   3
32                Biarritz   2
33                  Bilbao   1
34                  Binche   5
35                 Bolivia   2
36                  Bombay   1
37                Bouillon   2
38          Brabant-Wallon   1
39       Braine le Château   2
40              Brasschaat   2
41                  Brazil   4
42                 Bredene   2
43                Brussels 267
44        Brussels Capital   4
45                Budapest   2
46                Bulgaria   2
47                 Burundi   2
48                  Canada   8
49             Caughnawaga   1
50          Central Africa   1
51         Central America   1
52               Charleroi   2
53           Chaudfontaine   2
54                   Chile   1
55                   China   7
56                Chièvres   1
57                Châtelet   1
58                  Cilaos   1
59                   Ciney   2
60                Ciociari   1
61                  Colmar   1
62                 Cologne   4
63                Colombia   2
64        Comines-Warneton   1
65      Condom-en-Armagnac   2
66                   Congo   7
67              Costa Rica   1
68                  Couvin   1
69                  Coxyde   2
70                 Croatia   1
71                    Cuba   2
72                  Cyprus   1
73          Czechoslovakia   1
74                  Dallas   1
75                     Dax   1
76                 Denmark   6
77                   Digne   1
78                  Dinant   6
79      Dominican Republic   1
80                   Douai   2
81                  Dublin   1
82                 Dubrava   1
83                Duisburg   2
84              Düsseldorf   1
85                 Ecuador   3
86                   Eeklo   1
87             Eigenbrakel   2
88             El Salvador   1
89              Ellezelles   3
90              Estaimpuis   2
91                 Estonia   2
92               Etterbeek   1
93                   Eupen   2
94                  Europe  16
95                   Evere   2
96                 Finland   4
97                 Fleurus   2
98                Florence   1
99             Florenville   1
100          Fontainebleau   2
101      Forchie-la-Marche   2
102                  Fosse   5
103                 France  71
104                 Fécamp   2
105                 Gdansk   1
106                   Geel   1
107               Gembloux   2
108                 Geneva   1
109                   Genk   1
110                Georgia   3
111 German Democratic Rep.   1
112                Germany   3
113              Gerpinnes   1
114                  Ghent   5
115                  Gijon   1
116               Grammont   4
117                 Grasse   1
118                 Greece   3
119              Groningen   1
120                Gruyère   1
121              Guatamala   1
122             Gussignies   2
123            Haaksbergen   1
124                Hainaut   1
125          Ham-sur-Heure   1
126                  Haren   4
127                Hasselt   4
128                  Hawaï   1
129               Helsinki   2
130             Henegouwen   1
131             Herquegies   1
132               Herseaux   1
133                 Hirson   1
134              Hoeilaart   1
135               Honduras   1
136               Honolulu   2
137                Hungary   2
138               Hélécine   1
139                  Ibiza   1
140                  India   2
141              Indonesia   2
142          International  26
143                Ireland   1
144                 Israel   3
145                  Italy  20
146                  Ittre   2
147                Jamaica   1
148                 Jambes   1
149                  Japan  12
150                Jargeau   2
151   Jerez de la Frontera   2
152              Jerusalem   2
153                  Jette   1
154               Jodoigne   2
155                  Jumet   2
156             Kazakhstan   1
157                 Kelmis   1
158                  Kenya   2
159                  Korea   2
160                 Kuwait   1
161             Kyrgyzstan   1
162        L'Hay-les-Roses   2
163              La Flèche   2
164            La Louvière   1
165    La Roche en Ardenne   2
166                  Laken   1
167                 Latvia   1
168              Le Roeulx   2
169                Libanon   1
170                  Lille   4
171                Limburg   1
172              Limelette   2
173                 Lisbon   1
174              Lithuania   2
175                  Liège  17
176                 Llanes   2
177                 Lleida   3
178            Lodelinsart   2
179            Los Angeles   1
180       Louvain-la-Neuve   1
181                  Lucca   2
182                   Lund   3
183             Luxembourg   1
184              Luxemburg   3
185                   Lyon   2
186             Maastricht   2
187                 Madrid   3
188                   Mali   1
189                Malmedy   2
190                  Malta   1
191              Marostica   1
192       Marquise Islands   2
193               Marville   2
194                  Melle   2
195               Merchtem   4
196                 Mexico   5
197                Mirande   2
198                    Mol   1
199               Moldavia   1
200                 Monaco   2
201             Moncrabeau   1
202               Mongolia   1
203                   Mons  10
204             Montenegro   1
205               Montreal   2
206                 Moorea   1
207                Morocco   3
208                 Moscow   1
209               Moulbaix   2
210               Mouscron   1
211                   Moux   2
212                Munster   1
213                  Namur   6
214    Neder-Over-Heembeek   4
215             Neurenburg   2
216               New York   1
217              Nicaragua   1
218                   Nice   1
219             Nieuwpoort   2
220                  Niger   2
221            Nishinomiya   1
222               Nivelles   2
223       Nogent-sur-Marne   2
224          North America   1
225                 Norway   4
226                  Nuoro   1
227                  Nîmes   2
228                Oceania   1
229        Oost-Vlaanderen   1
230          Oostduinkerke   2
231                  Osaka   1
232                 Ostend   2
233                 Panama   1
234               Papantla   1
235                  Paris   9
236               Pauillac   2
237               Peizegem   1
238              Perpignan   2
239                   Peru   3
240            Philippines   1
241               Poitiers   1
242                 Poland  10
243              Pora Pora   2
244               Portugal   6
245              Quaregnon   1
246                 Quebec   1
247              Quimperlé   3
248                  Reims   4
249                 Renaix   1
250                   Riga   1
251              Rochefort   3
252              Roeselare   2
253                Romania   6
254                  Ronse   2
255                 Russia   6
256                 Rwanda   1
257          Saint-Quentin   1
258                  Samur   1
259               Saragoza   1
260             Schaerbeek  10
261                 Serbia   1
262              Singapore   2
263               Slovakia   1
264               Slovenia   1
265           South Africa   2
266          South America   1
267            South Korea   3
268                Souvret   2
269                    Spa   2
270                  Spain  15
271              Sri Lanka   1
272             St.-Cécile   1
273            St.-Emilion   2
274              St.-Gille   1
275              St.-Maxim   1
276             St.-Troyan   1
277               Stavelot   1
278             Strassburg   1
279        Sully-sur-Loire   1
280                 Sweden   1
281            Switzerland   3
282                 Tahiti   1
283                 Taiwan   1
284                 Tallin   1
285               Thailand   1
286        The Netherlands  12
287                  Theux   2
288              Thieulain   1
289                  Thuin   4
290                  Tokyo   3
291               Tongeren   2
292               Toulouse   1
293                Tournai   5
294                 Troyes   1
295                Tunisia   4
296                 Turkey   2
297               Turnhout   3
298                  Uccle   7
299                Ukraine   3
300   United Arab Emirates   3
301         United Kingdom   9
302          United States  22
303                Uruguay   2
304             Uzbekistan   1
305               Valencia   3
306              Venezuela   1
307               Verviers   2
308                 Vienna   2
309                Viesalm   2
310                Vietnam   1
311       Villers-la-Ville   1
312                 Virton   2
313          Virton-Lateau   2
314         Vlaams Brabant   1
315             Vlaanderen   1
316                 Waimes   2
317               Wallonie   1
318                  Wavre   2
319                  Weert   1
320        West-Vlaanderen   1
321     Woluwe-st.-Lambert   3
322      Woluwé-St.-Pierre   1
323              Wolvertem   1
324                  World   1
325                 Wépion   2
326                  Ypres   1
327             Yugoslavia   1
328             Yukata-Ori   1
329                Zelzate   2
330                   &lt;NA&gt;   3</code></pre>
</div>
</div>
<hr>
<p>What would I do with more time?</p>
<ul>
<li>Clean up/consolidate geo locations (a lot of subregions, where are all of these places? correlation to theme?)</li>
<li>NLP on costume title and description (very messy rough text fields currently)</li>
<li>Background research on what some of the groups/titles mean (a lot I’ve never heard of)</li>
<li>Prettier visualization; perhaps interactive with more data incorporated</li>
</ul>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>